{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","children","colHead","innerText","split","sortStatus","Array","fill","addEventListener","click","target","tagName","index","findIndex","colName","rows","querySelectorAll","sort","tr1","tr2","text1","text2","result","localeCompare","Number","salary1","join","slice","salary2","innerHTML","map","tr","outerHTML","form","createElement","offices","className","i","label","input","required","minLength","office","append","Option","type","min","max","textContent","name","toLowerCase","setAttribute","htmlFor","button","showMessage","posTop","posRight","title","description","notification","titleNotification","messageNotification","style","top","right","boxSizing","body","setTimeout","remove","makeActive","isActive","addActive","find","row","matches","classList","parentElement","changeValue","previouslyValue","td","saveValue","eventt","key","value","nameLength","length","age","toLocaleString","createInput","dblclick","parentElem","elem","elements","cloneNode","add","focus","data","FormData","entries","every","preventDefault","newRow","entry","reset"],"mappings":"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","file":"main.4ca40b75.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// Sort\nconst thead = document.querySelector('thead').children[0];\nconst colHead = thead.innerText.split('\\t');\nconst sortStatus = Array(5).fill(false);\n\nthead.addEventListener('click', (click) => {\n  if (click.target.tagName !== 'TH') {\n    return false;\n  }\n\n  const index = colHead.findIndex((colName) =>\n    colName === click.target.innerText);\n\n  const rows = [...document.querySelectorAll('tbody tr')];\n\n  const sort = (tr1, tr2) => {\n    const text1 = tr1.children[index].innerText;\n    const text2 = tr2.children[index].innerText;\n    let result = null;\n\n    switch (colHead[index]) {\n      case 'Name':\n      case 'Position':\n      case 'Office':\n        if (sortStatus[index]) {\n          result = text2.localeCompare(text1);\n        } else {\n          result = text1.localeCompare(text2);\n        }\n        break;\n      case 'Age':\n        if (sortStatus[index]) {\n          result = Number(text2) - Number(text1);\n        } else {\n          result = Number(text1) - Number(text2);\n        }\n        break;\n      case 'Salary':\n        const salary1 = text1.split(',').join('').slice(1);\n        const salary2 = text2.split(',').join('').slice(1);\n\n        if (sortStatus[index]) {\n          result = Number(salary2) - Number(salary1);\n        } else {\n          result = Number(salary1) - Number(salary2);\n        }\n        break;\n    }\n\n    return result;\n  };\n\n  rows.sort(sort);\n  sortStatus[index] = !sortStatus[index];\n\n  document.querySelector('tbody').innerHTML = `\n    ${rows.map((tr) => tr.outerHTML).join('\\n')}\n  `;\n});\n\n// Create form\nconst form = document.createElement('form');\nconst offices = ['Tokyo', 'Singapore', 'London',\n  'New York', 'Edinburgh', 'San Francisco'];\n\nform.className = 'new-employee-form';\n\nfor (let i = 0; i <= 4; i++) {\n  const label = document.createElement('label');\n  let input = document.createElement('input');\n\n  input.required = true;\n\n  switch (colHead[i]) {\n    case 'Name':\n      input.minLength = '4';\n      break;\n    case 'Office':\n      input = document.createElement('select');\n\n      for (const office of offices) {\n        input.append(new Option(office, office));\n      }\n      break;\n    case 'Age':\n      input.type = 'number';\n      input.min = 18;\n      input.max = 90;\n      break;\n    case 'Salary':\n      input.type = 'number';\n  }\n\n  label.textContent = colHead[i] + ': ';\n  input.name = colHead[i].toLowerCase();\n  input.setAttribute('data-qa', input.name);\n  label.htmlFor = input.name;\n\n  label.append(input);\n  form.append(label);\n}\n\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\nform.append(button);\ndocument.body.append(form);\n\nfunction showMessage(posTop, posRight, title, description, type) {\n  const notification = document.createElement('div');\n  const titleNotification = document.createElement('h2');\n  const messageNotification = document.createElement('p');\n\n  notification.className = 'notification ' + type;\n  titleNotification.className = 'title';\n  notification.setAttribute('data-qa', 'notification');\n\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px ';\n  notification.style.boxSizing = 'content-box';\n\n  titleNotification.textContent = title;\n  messageNotification.textContent = description;\n\n  notification.append(titleNotification);\n  notification.append(messageNotification);\n\n  document.body.append(notification);\n\n  setTimeout(() => notification.remove(), 2000);\n}\n\nbutton.addEventListener('click', click => {\n  const data = [...((new FormData(form)).entries())];\n\n  if (data.every((input) => input[1].length > 0)) {\n    click.preventDefault();\n  } else {\n    showMessage(10, 10, 'Error', 'Incorrect data !', 'error');\n\n    return;\n  }\n\n  data[4][1] = '$' + Number(data[4][1]).toLocaleString('en-US');\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    ${data.map((entry) => `\n    <td>\n      ${entry[1]}\n    </td>\n    `).join('')}\n  `;\n\n  document.querySelector('tbody').append(newRow);\n\n  showMessage(10, 10, 'Success', 'Data added !', 'success');\n  form.reset();\n});\n\ndocument.querySelector('tbody').addEventListener('click', makeActive());\n\nfunction makeActive() {\n  let isActive = false;\n\n  const addActive = (click) => {\n    if (click.target.tagName === 'TD') {\n      if (isActive) {\n        const rows = [...document.querySelectorAll('tr')];\n\n        rows.find((row) =>\n          row.matches('.active')).classList.remove('active');\n      }\n      isActive = true;\n      click.target.parentElement.className = 'active';\n    }\n  };\n\n  return addActive;\n};\n\ndocument.querySelector('tbody').addEventListener('dblclick', changeValue());\n\nfunction changeValue() {\n  let previouslyValue = null;\n  let input = null;\n  let td = null;\n\n  function createInput(dblclick) {\n    if (dblclick.target.tagName !== 'TD') {\n      return false;\n    }\n\n    const parentElem = dblclick.target.parentElement;\n    const index = [...parentElem.children].findIndex((elem) =>\n      elem === dblclick.target);\n\n    input = form.elements[index].cloneNode(true);\n    previouslyValue = dblclick.target.textContent;\n    td = dblclick.target;\n\n    input.classList.add('cell-input');\n    dblclick.target.textContent = '';\n    dblclick.target.append(input);\n    input.focus();\n\n    input.addEventListener('blur', saveValue);\n    input.addEventListener('keydown', saveValue);\n  }\n\n  function saveValue(eventt) {\n    if (eventt.key !== 'Enter' && eventt.type === 'keydown') {\n      return;\n    }\n\n    if (input.value === '') {\n      td.textContent = previouslyValue;\n      input.remove();\n\n      return;\n    }\n\n    switch (eventt.target.name) {\n      case 'name':\n        const nameLength = eventt.target.value.length;\n\n        if (nameLength < 4) {\n          td.textContent = previouslyValue;\n          input.remove();\n\n          showMessage(10, 10, 'Error', 'Incorrect data !', 'error');\n\n          return;\n        }\n        break;\n\n      case 'age':\n        const age = Number(eventt.target.value);\n\n        if (age < 18 || age > 90) {\n          td.textContent = previouslyValue;\n          input.remove();\n\n          showMessage(10, 10, 'Error', 'Incorrect data !', 'error');\n\n          return;\n        }\n    }\n\n    if (input.name === 'salary') {\n      eventt.target.parentElement.textContent = '$'\n        + Number(input.value).toLocaleString('en-US');\n    } else {\n      eventt.target.parentElement.textContent = input.value;\n    }\n    input.remove();\n\n    showMessage(10, 10, 'Success', 'Data added !', 'success');\n  }\n\n  return createInput;\n}\n"]}